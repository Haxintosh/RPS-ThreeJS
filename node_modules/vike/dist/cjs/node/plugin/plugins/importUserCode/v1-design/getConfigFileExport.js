"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getConfigFileExport = void 0;
const picocolors_1 = __importDefault(require("@brillout/picocolors"));
const assertPlusFileExport_js_1 = require("../../../../../shared/page-configs/assertPlusFileExport.js");
const utils_js_1 = require("../../../utils.js");
function getConfigFileExport(fileExports, filePathToShowToUser) {
    (0, assertPlusFileExport_js_1.assertPlusFileExport)(fileExports, filePathToShowToUser, 'config');
    const fileExport = fileExports.default || fileExports.config;
    (0, utils_js_1.assert)('default' in fileExports !== 'config' in fileExports);
    const exportName = picocolors_1.default.cyan('default' in fileExports ? 'export default' : 'export { config }');
    (0, utils_js_1.assertUsage)((0, utils_js_1.isObject)(fileExport), `The ${exportName} of ${filePathToShowToUser} should be an object (but it's ${picocolors_1.default.cyan(`typeof exportedValue === ${JSON.stringify(typeof fileExport)}`)} instead)`);
    return fileExport;
}
exports.getConfigFileExport = getConfigFileExport;
