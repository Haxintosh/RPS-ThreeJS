export { isVersionOrAbove };
import { assert } from './assert.js';
function isVersionOrAbove(versionActual, versionExpected) {
    const p1 = parseVersion(versionActual);
    const p2 = parseVersion(versionExpected);
    // major
    if (p1[0] !== p2[0])
        return p1[0] > p2[0];
    // minor
    if (p1[1] !== p2[1])
        return p1[1] > p2[1];
    // patch
    if (p1[2] !== p2[2])
        return p1[2] > p2[2];
    // Same version
    return true;
}
function parseVersion(version) {
    // Remove pre-release tag
    version = version.split('-')[0];
    // major.minor.patch
    const partsStr = version.split('.');
    assert(partsStr.length === 3);
    const parts = partsStr.map((s) => parseInt(s, 10));
    return parts;
}
